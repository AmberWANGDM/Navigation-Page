{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastBox","find","liObject","JSON","parse","localStorage","getItem","hashMap","logo","url","title","removePrefix","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","trim","alert","indexOf","push","onunload","setItem","stringify","document","console","log","keyCode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,YAAYC,EAAE,YAAF,CAAlB;AACA,IAAMC,WAAWF,UAAUG,IAAV,CAAe,SAAf,CAAjB;AACA,IAAIC,WAAWC,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,IAArB,CAAX,CAAf;AACA,IAAMC,UAAUL,YAAY,CAC1B,EAAEM,MAAM,GAAR,EAAaC,KAAK,oBAAlB,EAAwCC,OAAO,IAA/C,EAD0B,EAE1B,EAAEF,MAAM,GAAR,EAAaC,KAAK,sBAAlB,EAA0CC,OAAO,UAAjD,EAF0B,CAA5B;AAIA,IAAMC,eAAe,SAAfA,YAAe,CAACF,GAAD,EAAS;AAC5B,SAAOA,IAAIG,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EAA4BA,OAA5B,CAAoC,MAApC,EAA4C,EAA5C,EAAgDA,OAAhD,CAAwD,MAAxD,EAAgE,EAAhE,CAAP;AACD,CAFD;;AAIA,SAASC,MAAT,GAAkB;AAChBf,YAAUG,IAAV,CAAe,iBAAf,EAAkCa,MAAlC;AACAP,UAAQQ,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC/B,QAAMC,MAAMnB,6EAGciB,KAAKR,IAAL,CAAU,CAAV,CAHd,4CAIcQ,KAAKN,KAJnB,uMAYTS,YAZS,CAYInB,QAZJ,CAAZ;AAaAkB,QAAIE,EAAJ,CAAO,OAAP,EAAgB,YAAM;AACpBC,aAAOC,IAAP,CAAYN,KAAKP,GAAjB;AACD,KAFD;AAGA;AACAS,QAAIE,EAAJ,CAAO,OAAP,EAAgB,QAAhB,EAA0B,UAACG,CAAD,EAAO;AAC/BA,QAAEC,eAAF;AACAjB,cAAQkB,MAAR,CAAeR,KAAf,EAAsB,CAAtB;AACAJ;AACD,KAJD;AAKD,GAvBD;AAwBD;AACDA;;AAEAd,EAAE,YAAF,EAAgBqB,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAChC,MAAIX,MAAMY,OAAOK,MAAP,CAAc,aAAd,CAAV;AACA,MAAIjB,IAAIkB,IAAJ,OAAe,EAAnB,EAAuB;AACrBC,UAAM,SAAN;AACA;AACD;AACD,MAAInB,IAAIoB,OAAJ,CAAY,UAAZ,MAA4B,CAAhC,EAAmC;AACjCpB,UAAM,aAAaA,GAAnB;AACD;AACDF,UAAQuB,IAAR,CAAa;AACXtB,UAAMG,aAAaF,GAAb,EAAkB,CAAlB,CADK;AAEXA,SAAKA;AAFM,GAAb;AAIAX,YAAUG,IAAV,CAAe,eAAf,EAAgCa,MAAhC;AACAD;AACD,CAfD;;AAiBA;AACAkB,WAAW,oBAAM;AACf1B,eAAa2B,OAAb,CAAqB,IAArB,EAA2B7B,KAAK8B,SAAL,CAAe1B,OAAf,CAA3B;AACD,CAFD;;AAIAR,EAAEmC,QAAF,EAAYd,EAAZ,CAAe,UAAf,EAA2B,UAACG,CAAD,EAAO;AAChCY,UAAQC,GAAR,CAAYb,EAAEc,OAAF,KAAc,EAA1B;AACD,CAFD","file":"main.63818d5e.map","sourceRoot":"../src","sourcesContent":["const $siteList = $('.site-list')\nconst $lastBox = $siteList.find('li.last')\nlet liObject = JSON.parse(localStorage.getItem('li'))\nconst hashMap = liObject || [\n  { logo: 'G', url: 'https://google.com', title: '谷歌' },\n  { logo: 'B', url: 'https://bilibili.com', title: 'bilibili' },\n]\nconst removePrefix = (url) => {\n  return url.replace('https://', '').replace('www.', '').replace(/\\/.*/, '')\n}\n\nfunction render() {\n  $siteList.find('li:not(li.last)').remove()\n  hashMap.forEach((node, index) => {\n    const $li = $(`\n      <li>\n        <div class=\"site\">\n          <div class=\"logo\">${node.logo[0]}</div>\n          <div class=\"link\">${node.title}</div>\n          <div class=\"close\">\n            <svg class=\"icon\">\n              <use xlink:href=\"#icon-del\"></use>\n            </svg>\n          </div>\n        </div>\n      </li>\n    `).insertBefore($lastBox)\n    $li.on('click', () => {\n      window.open(node.url)\n    })\n    // 删除收藏\n    $li.on('click', '.close', (e) => {\n      e.stopPropagation()\n      hashMap.splice(index, 1)\n      render()\n    })\n  })\n}\nrender()\n\n$('.addButton').on('click', () => {\n  let url = window.prompt('请输入要添加的网址链接')\n  if (url.trim() === '') {\n    alert('请输入有效网址')\n    return\n  }\n  if (url.indexOf('https://') !== 0) {\n    url = 'https://' + url\n  }\n  hashMap.push({\n    logo: removePrefix(url)[0],\n    url: url,\n  })\n  $siteList.find('li:not(.last)').remove()\n  render()\n})\n\n// 页面退出或刷新前localStorage保存收藏\nonunload = () => {\n  localStorage.setItem('li', JSON.stringify(hashMap))\n}\n\n$(document).on('keypress', (e) => {\n  console.log(e.keyCode === 13)\n})\n"]}